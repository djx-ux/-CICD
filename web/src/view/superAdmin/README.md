# è¶…çº§ç®¡ç†å‘˜æ¨¡å—

## é—®é¢˜è¯Šæ–­å’Œè§£å†³æ–¹æ¡ˆ

### ğŸ› åŸé—®é¢˜
é¡µé¢æ²¡æœ‰æ­£ç¡®æ¸²æŸ“ï¼Œç‚¹å‡»èœå•åå³ä¾§å†…å®¹åŒºåŸŸä¸ºç©ºç™½ã€‚

### ğŸ” æ ¹æœ¬åŸå› 
1. **ç¼ºå°‘ pathInfo.json æ³¨å†Œ**ï¼šæ–°åˆ›å»ºçš„ç»„ä»¶æ²¡æœ‰åœ¨ `pathInfo.json` ä¸­æ³¨å†Œï¼Œå¯¼è‡´ Keep-Alive åŠŸèƒ½æ— æ³•è¯†åˆ«ç»„ä»¶
2. **ç¼ºå°‘ç»„ä»¶åç§°å®šä¹‰**ï¼šVue 3 çš„ `<script setup>` è¯­æ³•éœ€è¦ä½¿ç”¨ `defineOptions({ name: 'ComponentName' })` æ˜¾å¼å®šä¹‰ç»„ä»¶åç§°

### âœ… è§£å†³æ–¹æ¡ˆ

#### 1. æ›´æ–° pathInfo.json
åœ¨ `web/src/pathInfo.json` ä¸­æ·»åŠ äº†ä¸‰ä¸ªæ–°ç»„ä»¶çš„æ˜ å°„ï¼š
```json
{
  "/src/view/superAdmin/index.vue": "SuperAdmin",
  "/src/view/superAdmin/authority/authority.vue": "Authority",
  "/src/view/superAdmin/menu/menu.vue": "Menu"
}
```

#### 2. æ·»åŠ ç»„ä»¶åç§°å®šä¹‰
ä¸ºæ‰€æœ‰ç»„ä»¶æ·»åŠ äº† `defineOptions`ï¼š

**authority.vue**:
```vue
<script setup>
defineOptions({
  name: 'Authority'
})
// ... rest of the code
</script>
```

**menu.vue**:
```vue
<script setup>
defineOptions({
  name: 'Menu'
})
// ... rest of the code
</script>
```

**index.vue**:
```vue
<script setup>
defineOptions({
  name: 'SuperAdmin'
})
// ... rest of the code
</script>
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
web/src/view/superAdmin/
â”œâ”€â”€ index.vue                   # è·¯ç”±å®¹å™¨ï¼ˆçˆ¶è·¯ç”±ï¼‰
â”œâ”€â”€ authority/
â”‚   â””â”€â”€ authority.vue          # è§’è‰²ç®¡ç†é¡µé¢
â””â”€â”€ menu/
    â””â”€â”€ menu.vue               # èœå•ç®¡ç†é¡µé¢
```

## ğŸ¯ åŠŸèƒ½è¯´æ˜

### è§’è‰²ç®¡ç† (authority.vue)
- è§’è‰²åˆ—è¡¨å±•ç¤ºï¼ˆæ ‘å½¢ç»“æ„ï¼‰
- æ–°å¢æ ¹è§’è‰²/å­è§’è‰²
- ç¼–è¾‘è§’è‰²
- åˆ é™¤è§’è‰²
- æ‹·è´è§’è‰²
- è®¾ç½®æƒé™ï¼ˆèœå•æƒé™åˆ†é…ï¼‰

### èœå•ç®¡ç† (menu.vue)
- èœå•åˆ—è¡¨å±•ç¤ºï¼ˆæ ‘å½¢ç»“æ„ï¼‰
- æ–°å¢æ ¹èœå•/å­èœå•
- ç¼–è¾‘èœå•
- åˆ é™¤èœå•
- å®Œæ•´çš„èœå•é…ç½®é¡¹ï¼ˆè·¯ç”±ã€å›¾æ ‡ã€æ’åºç­‰ï¼‰

## ğŸš€ ä½¿ç”¨è¯´æ˜

### å¯åŠ¨é¡¹ç›®
```bash
# è¿›å…¥ web ç›®å½•
cd web

# é‡å¯å¼€å‘æœåŠ¡å™¨ï¼ˆç¡®ä¿æ›´æ”¹ç”Ÿæ•ˆï¼‰
npm run dev
```

### è®¿é—®é¡µé¢
1. ç™»å½•ç³»ç»Ÿ
2. ç‚¹å‡»å·¦ä¾§èœå•ã€Œè¶…çº§ç®¡ç†å‘˜ã€
3. é€‰æ‹©ã€Œè§’è‰²ç®¡ç†ã€æˆ–ã€Œèœå•ç®¡ç†ã€

## ğŸ“Œ é‡è¦æç¤º

### pathInfo.json çš„ä½œç”¨
- **Keep-Alive ç»„ä»¶ç¼“å­˜**ï¼šVue Router çš„ keep-alive åŠŸèƒ½ä¾èµ–ç»„ä»¶åç§°
- **ç»„ä»¶åç§°æ˜ å°„**ï¼šå°†ç»„ä»¶æ–‡ä»¶è·¯å¾„æ˜ å°„åˆ°ç»„ä»¶åç§°
- **å¿…é¡»åŒ¹é…**ï¼špathInfo.json ä¸­çš„åç§°å¿…é¡»ä¸ `defineOptions({ name })` ä¸­çš„åç§°ä¸€è‡´

### ä¸ºä»€ä¹ˆéœ€è¦ defineOptions
Vue 3 çš„ `<script setup>` æ˜¯ç¼–è¯‘å™¨è¯­æ³•ç³–ï¼Œä¸ä¼šè‡ªåŠ¨æ¨æ–­ç»„ä»¶åç§°ã€‚ä¸ºäº†è®©ä»¥ä¸‹åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼Œå¿…é¡»æ˜¾å¼å®šä¹‰ç»„ä»¶åï¼š
- Keep-Alive ç¼“å­˜
- DevTools è°ƒè¯•
- é€’å½’ç»„ä»¶
- ç»„ä»¶å¼•ç”¨

### æ·»åŠ æ–°é¡µé¢çš„æ­¥éª¤
1. **åˆ›å»º Vue æ–‡ä»¶**ï¼šåœ¨ `web/src/view/` ä¸‹åˆ›å»ºç»„ä»¶
2. **å®šä¹‰ç»„ä»¶å**ï¼šä½¿ç”¨ `defineOptions({ name: 'YourComponentName' })`
3. **æ³¨å†Œåˆ° pathInfo.json**ï¼šæ·»åŠ è·¯å¾„å’Œåç§°çš„æ˜ å°„
4. **åç«¯é…ç½®èœå•**ï¼šåœ¨æ•°æ®åº“æˆ–åˆå§‹åŒ–æ–‡ä»¶ä¸­é…ç½®èœå•æ•°æ®
5. **é‡å¯å¼€å‘æœåŠ¡å™¨**ï¼šä½¿æ›´æ”¹ç”Ÿæ•ˆ

## ğŸ”§ è°ƒè¯•æŠ€å·§

### æ£€æŸ¥åŠ¨æ€è·¯ç”±æ˜¯å¦åŠ è½½
åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
// æŸ¥çœ‹è·¯ç”±å­˜å‚¨
useRouterStore().asyncRouters

// æŸ¥çœ‹èœå•æ•°æ®
useRouterStore().topMenu
useRouterStore().leftMenu
```

### æ£€æŸ¥ç»„ä»¶æ˜¯å¦è¢«æ­£ç¡®å¯¼å…¥
åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ï¼Œç¡®è®¤ç»„ä»¶æ–‡ä»¶è¢«æ­£ç¡®åŠ è½½ã€‚

### æ£€æŸ¥ Keep-Alive çŠ¶æ€
```javascript
// æŸ¥çœ‹å½“å‰ç¼“å­˜çš„ç»„ä»¶
useRouterStore().keepAliveRouters
```

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `web/src/utils/asyncRouter.js` - åŠ¨æ€è·¯ç”±å¤„ç†
- `web/src/pinia/modules/router.js` - è·¯ç”±çŠ¶æ€ç®¡ç†
- `web/src/pathInfo.json` - ç»„ä»¶è·¯å¾„æ˜ å°„
- `server/source/system/menu.go` - åç«¯èœå•åˆå§‹åŒ–

## ğŸ¨ æ ·å¼å®šåˆ¶

ä¸¤ä¸ªé¡µé¢éƒ½æ”¯æŒè‡ªå®šä¹‰æ ·å¼ï¼š
```scss
<style scoped lang="scss">
.authority-container {
  // è‡ªå®šä¹‰è§’è‰²ç®¡ç†é¡µé¢æ ·å¼
}

.menu-container {
  // è‡ªå®šä¹‰èœå•ç®¡ç†é¡µé¢æ ·å¼
}
</style>
```

---

**åˆ›å»ºæ—¶é—´**ï¼š2025-10-15  
**æœ€åæ›´æ–°**ï¼š2025-10-15  
**çŠ¶æ€**ï¼šâœ… å·²è§£å†³ï¼Œå¯æ­£å¸¸ä½¿ç”¨

